module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},26768,(a,b,c)=>{"use strict";b.exports=a.r(82615).vendored.contexts.HooksClientContext},64240,(a,b,c)=>{"use strict";b.exports=a.r(82615).vendored.contexts.ServerInsertedHtml},13230,a=>{"use strict";var b=a.i(83122),c=a.i(29248),d=a.i(94193),e=a.i(28758);function f(){let[a,d]=(0,c.useState)(null),[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(""),o=async b=>{if(b.preventDefault(),!a)return void n("Please select a file");l(!0),n("");try{let b=new FormData;if(b.append("file",a),b.append("title",e),b.append("description",g),b.append("youtube_id",i),(await fetch("/api/upload",{method:"POST",body:b})).ok){n("Upload successful!"),d(null),f(""),h(""),j("");let a=document.getElementById("file-upload");a&&(a.value="")}else n("Upload failed. Please try again.")}catch(a){console.error("Upload error:",a),n("Upload failed. Please try again.")}finally{l(!1)}};return(0,b.jsxs)("form",{onSubmit:o,className:"max-w-2xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"file-upload",className:"block text-sm font-medium mb-2",children:"File"}),(0,b.jsx)("input",{id:"file-upload",type:"file",onChange:a=>d(a.target.files?.[0]||null),accept:"image/*,video/*",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium mb-2",children:"Title"}),(0,b.jsx)("input",{id:"title",type:"text",value:e,onChange:a=>f(a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 bg-white dark:bg-gray-800"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium mb-2",children:"Description"}),(0,b.jsx)("textarea",{id:"description",value:g,onChange:a=>h(a.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 bg-white dark:bg-gray-800"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"youtube-id",className:"block text-sm font-medium mb-2",children:"YouTube Video ID (optional)"}),(0,b.jsx)("input",{id:"youtube-id",type:"text",value:i,onChange:a=>j(a.target.value),placeholder:"e.g., dQw4w9WgXcQ",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 bg-white dark:bg-gray-800"})]}),(0,b.jsx)("button",{type:"submit",disabled:k,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg disabled:opacity-50 transition-colors",children:k?"Uploading...":"Upload"}),m&&(0,b.jsx)("div",{className:`text-center ${m.includes("successful")?"text-green-600":"text-red-600"}`,children:m})]})}function g(){let[a,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(!1),j=(0,e.useRouter)();(0,c.useEffect)(()=>{(async()=>{let{data:{user:a}}=await d.supabase.auth.getUser();a?i(!0):j.push("/admin"),g(!1)})()},[j]);let k=async()=>{await d.supabase.auth.signOut(),j.push("/admin")};return a?(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-20 text-center",children:"Loading..."}):h?(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Upload Media"}),(0,b.jsx)("button",{onClick:k,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Logout"})]}),(0,b.jsx)(f,{})]}):null}a.s(["default",()=>g],13230)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8f7dcba6._.js.map