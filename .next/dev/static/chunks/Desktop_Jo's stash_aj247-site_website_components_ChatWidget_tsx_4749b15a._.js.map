{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/joban/Desktop/Jo%27s%20stash/aj247-site/website/components/ChatWidget.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\ninterface Message {\r\n  role: \"user\" | \"assistant\";\r\n  content: string;\r\n}\r\n\r\nexport default function ChatWidget() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const sendMessage = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const userMessage: Message = { role: \"user\", content: input };\r\n    setMessages((prev) => [...prev, userMessage]);\r\n    setInput(\"\");\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await fetch(\"/api/chat\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ messages: [...messages, userMessage] }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      const assistantMessage: Message = {\r\n        role: \"assistant\",\r\n        content: data.message,\r\n      };\r\n      setMessages((prev) => [...prev, assistantMessage]);\r\n    } catch (error) {\r\n      console.error(\"Chat error:\", error);\r\n      setMessages((prev) => [\r\n        ...prev,\r\n        { role: \"assistant\", content: \"Sorry, something went wrong.\" },\r\n      ]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        onClick={() => setIsOpen(!isOpen)}\r\n        className=\"fixed bottom-6 right-6 bg-blue-600 hover:bg-blue-700 text-white rounded-full w-14 h-14 flex items-center justify-center shadow-lg transition-colors z-50\"\r\n        aria-label=\"Toggle chat\"\r\n      >\r\n        {isOpen ? \"âœ•\" : \"ðŸ’¬\"}\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"fixed bottom-24 right-6 w-80 h-96 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-lg shadow-xl flex flex-col z-50\">\r\n          <div className=\"p-4 border-b border-gray-200 dark:border-gray-800\">\r\n            <h3 className=\"font-semibold\">Chat with AI</h3>\r\n          </div>\r\n          <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n            {messages.map((msg, idx) => (\r\n              <div\r\n                key={idx}\r\n                className={`${\r\n                  msg.role === \"user\" ? \"text-right\" : \"text-left\"\r\n                }`}\r\n              >\r\n                <div\r\n                  className={`inline-block px-4 py-2 rounded-lg ${\r\n                    msg.role === \"user\"\r\n                      ? \"bg-blue-600 text-white\"\r\n                      : \"bg-gray-200 dark:bg-gray-800\"\r\n                  }`}\r\n                >\r\n                  {msg.content}\r\n                </div>\r\n              </div>\r\n            ))}\r\n            {loading && (\r\n              <div className=\"text-left\">\r\n                <div className=\"inline-block px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-800\">\r\n                  Typing...\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"p-4 border-t border-gray-200 dark:border-gray-800\">\r\n            <div className=\"flex gap-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyPress={(e) => e.key === \"Enter\" && sendMessage()}\r\n                placeholder=\"Type a message...\"\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 bg-white dark:bg-gray-800\"\r\n                disabled={loading}\r\n              />\r\n              <button\r\n                onClick={sendMessage}\r\n                disabled={loading}\r\n                className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg disabled:opacity-50\"\r\n              >\r\n                Send\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AASe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,kOAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,kOAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,kOAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kOAAQ,EAAC;IAEvC,MAAM,cAAc;QAClB,IAAI,CAAC,MAAM,IAAI,IAAI;QAEnB,MAAM,cAAuB;YAAE,MAAM;YAAQ,SAAS;QAAM;QAC5D,YAAY,CAAC,OAAS;mBAAI;gBAAM;aAAY;QAC5C,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,aAAa;gBACxC,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE,UAAU;2BAAI;wBAAU;qBAAY;gBAAC;YAC9D;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,MAAM,mBAA4B;gBAChC,MAAM;gBACN,SAAS,KAAK,OAAO;YACvB;YACA,YAAY,CAAC,OAAS;uBAAI;oBAAM;iBAAiB;QACnD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,eAAe;YAC7B,YAAY,CAAC,OAAS;uBACjB;oBACH;wBAAE,MAAM;wBAAa,SAAS;oBAA+B;iBAC9D;QACH,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE;;0BACE,sPAAC;gBACC,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;gBACV,cAAW;0BAEV,SAAS,MAAM;;;;;;YAGjB,wBACC,sPAAC;gBAAI,WAAU;;kCACb,sPAAC;wBAAI,WAAU;kCACb,cAAA,sPAAC;4BAAG,WAAU;sCAAgB;;;;;;;;;;;kCAEhC,sPAAC;wBAAI,WAAU;;4BACZ,SAAS,GAAG,CAAC,CAAC,KAAK,oBAClB,sPAAC;oCAEC,WAAW,GACT,IAAI,IAAI,KAAK,SAAS,eAAe,aACrC;8CAEF,cAAA,sPAAC;wCACC,WAAW,CAAC,kCAAkC,EAC5C,IAAI,IAAI,KAAK,SACT,2BACA,gCACJ;kDAED,IAAI,OAAO;;;;;;mCAZT;;;;;4BAgBR,yBACC,sPAAC;gCAAI,WAAU;0CACb,cAAA,sPAAC;oCAAI,WAAU;8CAAiE;;;;;;;;;;;;;;;;;kCAMtF,sPAAC;wBAAI,WAAU;kCACb,cAAA,sPAAC;4BAAI,WAAU;;8CACb,sPAAC;oCACC,MAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,YAAY,CAAC,IAAM,EAAE,GAAG,KAAK,WAAW;oCACxC,aAAY;oCACZ,WAAU;oCACV,UAAU;;;;;;8CAEZ,sPAAC;oCACC,SAAS;oCACT,UAAU;oCACV,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;AASf;GAxGwB;KAAA"}}]
}